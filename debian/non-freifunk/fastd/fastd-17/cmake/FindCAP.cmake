FIND_PATH(CAP_INCLUDE_DIR sys/capability.h)
FIND_LIBRARY(CAP_LIBRARY NAMES cap)

IF (CAP_INCLUDE_DIR AND CAP_LIBRARY)
   SET(CAP_FOUND TRUE)
ENDIF (CAP_INCLUDE_DIR AND CAP_LIBRARY)

IF (CAP_FOUND)
   IF (NOT CAP_FIND_QUIETLY)
      MESSAGE(STATUS "Found libcap: ${CAP_LIBRARY}; include path: ${CAP_INCLUDE_DIR}")
   ENDIF (NOT CAP_FIND_QUIETLY)
ELSE (CAP_FOUND)
   IF (CAP_FIND_REQUIRED)
      MESSAGE(FATAL_ERROR "Could not find libcap")
   ENDIF (CAP_FIND_REQUIRED)
ENDIF (CAP_FOUND)
